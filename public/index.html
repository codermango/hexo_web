<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Mark&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="感悟, 博客, 生活, 瑞典, IT">
<meta property="og:type" content="website">
<meta property="og:title" content="Mark's Blog">
<meta property="og:url" content="http://yoursite.com/">
<meta property="og:site_name" content="Mark's Blog">
<meta property="og:description" content="感悟, 博客, 生活, 瑞典, IT">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mark's Blog">
<meta name="twitter:description" content="感悟, 博客, 生活, 瑞典, IT">

  
    <link rel="alternative" href="/atom.xml" title="Mark&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  


  <!--  -->
  <script type="text/javascript">
	var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
	document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F2858f155aec784cdce50266037604ed3' type='text/javascript'%3E%3C/script%3E"));
</script>

  <meta name="baidu_union_verify" content="f4f1d8044be005d6c09350cce6f4b8ce">







</head>
<body>
    <div id="container">
        <div id="wrap">
            <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mark&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Yesterday you said tomorrow.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about_me">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="yoursite.com">
        </form>
      </div>
    </div>
  </div>
</header>
            <div class="outer">
                <section id="main">
  
    <article id="post-20140929_Prolog逆波兰式转换中缀表达式" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/09/29/20140929_Prolog逆波兰式转换中缀表达式/" class="article-date">
  <time datetime="2014-09-28T22:00:00.000Z" itemprop="datePublished">9月 29 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/Prolog/">Prolog</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/29/20140929_Prolog逆波兰式转换中缀表达式/">Prolog逆波兰式转换成中缀表达式</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>逆波兰表达式，是波兰数学家1920年引入的数学表达式方法。在逆波兰表示法中，所有的操作符都置于操作数后面，也称为后缀表达法。我们通常的数学表达式是中缀表达式。举例说明，我们平常的表达式<code>3+2</code>，用逆波兰表达式就为<code>32+</code>。逆波兰表示法不需要括号来标示操作符的优先级。有人会说为什么要用如此不直观的方法表示，其实直观不直观是对人类来说的，我们认为的很直观的中缀表达法对计算机来说却是一种非常复杂的数据结构，而后缀表示法却很易于计算机处理，至于如何易于处理不是本文的重点。</p>
<p>很多数据结构和算法的书籍都会有后缀表示法向中缀表示法转换的算法，最近由于课程Project，需要用Prolog实现这个功能，以下我们就来分析下如何把逆波兰式转换成中缀表达式。</p>
<p>首先先把程序给出：  </p>
<figure class="highlight Prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function">rpn2exp</span>(<span class="attr_selector">[X]</span>, <span class="attr_selector">[]</span>, X).</div><div class="line"><span class="function">rpn2exp</span>(Stack, <span class="attr_selector">[Head|Tail]</span>, Res) <span class="value">:-</span></div><div class="line">	<span class="function">integer</span>(Head),</div><div class="line">	<span class="function">rpn2exp</span>([Head|Stack], Tail, Res).</div><div class="line"><span class="function">rpn2exp</span>([X,Y|Others], [Head|Tail], Res) :-</div><div class="line">	<span class="function">operator</span>(Head),</div><div class="line">	<span class="function">doop</span>(Head, Y, X, X1),</div><div class="line">	<span class="function">rpn2exp</span>([X1|Others], Tail, Res).</div></pre></td></tr></table></figure>

<p>这里我们来举例说明，把<code>31+2*</code>转化为<code>(3+1)*2</code>。那么调用函数就为：<br><code>rpn2exp([], [3, 1, +, 2, *], Res)</code></p>
<p><code>[]</code>定义一个栈，把第二个参数（逆波兰式）一个个压入栈中。第一次调用的时候，匹配到<code>rpn2exp(Stack, [Head|Tail], Res)</code>，<code>Prolog</code>开始匹配，满足<code>integer(3)</code>和<code>rpn2exp([Head|Stack], Tail, Res)</code>，递归一次，Stack中就变成了[3]。第二次再递归一次，同样匹配成功，Stack变成[1, 3]，第三次的时候，Tail里是[+, 2, *]，<code>integer(Head)</code>匹配不成功，所以它会匹配<code>rpn2exp([X,Y|Others], [Head|Tail], Res)</code>。 这里operator和doop的具体实现不用理会，先知道operator在这里就是说Head是操作符就返回真，doop的作用是把这一部分变成中缀表达式<code>（X1=3+1）</code>。然后把之前运算后的X，Y出栈，结果X1入栈，则此时栈里面的情况就是<code>[3+1]</code>。</p>
<p>这样不断的循环，最后栈中只会剩下一个数字，这个数字就是最后的结果，最后一次会匹配<code>rpn2exp([X], [], X)</code>。</p>
<p>这个例子入栈出栈的情况如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="attr_selector">[3]</span></div><div class="line"><span class="attr_selector">[3, 1]</span></div><div class="line"><span class="attr_selector">[3, 1, +]</span>   <span class="tag">-</span>&gt; 4</div><div class="line"><span class="attr_selector">[4]</span></div><div class="line"><span class="attr_selector">[4, 2]</span></div><div class="line"><span class="attr_selector">[4, 2, *]</span>   <span class="tag">-</span>&gt; 8</div><div class="line"><span class="attr_selector">[8]</span></div></pre></td></tr></table></figure>


            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/09/29/20140929_Prolog逆波兰式转换中缀表达式/" data-id="rjv8l45cufrdk4x8" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Prolog/">Prolog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/逆波兰式/">逆波兰式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-20140910_ssh的使用" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/09/10/20140910_ssh的使用/" class="article-date">
  <time datetime="2014-09-09T22:53:16.000Z" itemprop="datePublished">9月 10 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/SSH/">SSH</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/10/20140910_ssh的使用/">ssh的使用</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>最近把网站从<code>github</code>转移到了<code>gitcafe</code>，顺便熟悉了下<code>ssh</code>的用法。</p>
<blockquote>
<p>SSH 为 Secure Shell 的缩写，由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是UNIX系统上的一个程序，后来又迅速扩展到其他操作平台。SSH在正确使用时可弥补网络中的漏洞。SSH客户端适用于多种平台。几乎所有UNIX平台—包括HP-UX、Linux、AIX、Solaris、Digital UNIX、Irix，以及其他平台，都可运行SSH。</p>
</blockquote>
<p>默认情况下<code>hexo</code>是托管在<code>github</code>上的，当我们<code>deploy</code>的时候，<code>github</code>是用过<code>ssh</code>进行的连接，Mac系统是基于UNIX的，所以内置ssh。 </p>
<p>在<code>Terminal</code>中，通过<code>key-gen</code>命令在本机电脑中生成公钥<code>（id_rsa）</code>和密钥<code>（id_rsa.pub）</code>，然后在<code>github</code>的<code>SSH keys</code>中添加生成的公钥，如此一来，就建立了安全连接。公钥和密钥是非对称的，也就是说，知道其中一个，并不能推算出另一个。</p>

            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/09/10/20140910_ssh的使用/" data-id="fgme1rzl9xgb7p86" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/">ssh</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-20140628_启动多个进程" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/06/28/20140628_启动多个进程/" class="article-date">
  <time datetime="2014-06-28T21:42:52.000Z" itemprop="datePublished">6月 28 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/Erlang/">Erlang</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/28/20140628_启动多个进程/">【Erlang】如何一次性启动多个Erlang进程(4)</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lists:<span class="keyword">map</span>(fun(X) -&gt; listener:start() end, lists:se<span class="string">q(1, 10)</span>).</div></pre></td></tr></table></figure>

<p>这个就是要搞明白lists:map的用法。</p>

            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/06/28/20140628_启动多个进程/" data-id="5d8zt5jw0gcjo514" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Erlang/">Erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-20140628_Erlang进程通信" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/06/28/20140628_Erlang进程通信/" class="article-date">
  <time datetime="2014-06-28T18:47:55.000Z" itemprop="datePublished">6月 28 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/Erlang/">Erlang</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/28/20140628_Erlang进程通信/">【Erlang】简单Erlang进程通信例子(3)</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>暑假去了爱立信上海实习，在SBG部门，居然要用我超级头痛的Erlang，没办法，只有开始看了。</p>
<p>之前每隔一段时间就会忘记Erlang进程间通信是如何写的，今天所幸记下来。</p>
<p>listener.erl</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="pp"><span class="keyword">-module</span><span class="params">(listener)</span></span>.</div><div class="line"><span class="pp"><span class="keyword">-export</span><span class="params">([start/<span class="number">0</span>])</span></span>.</div><div class="line"></div><div class="line"><span class="function"><span class="title">start</span><span class="params">()</span> -&gt;</span></div><div class="line">	<span class="function_name">register</span>(l, <span class="function_name">spawn</span>(<span class="keyword">fun</span>() -&gt; <span class="function_name">loop</span>() <span class="keyword">end</span>)).</div><div class="line"></div><div class="line"><span class="function"><span class="title">loop</span><span class="params">()</span> -&gt;</span></div><div class="line">	<span class="function_name">io:format</span>(<span class="string">"listening...."</span>),</div><div class="line">	<span class="keyword">receive</span></div><div class="line">		start -&gt;</div><div class="line">			<span class="function_name">io:format</span>(<span class="string">"recevie start from commander."</span>)</div><div class="line">	<span class="keyword">end</span>,</div><div class="line">	<span class="function_name">loop</span>().</div></pre></td></tr></table></figure>

<p>commander.erl</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="pp"><span class="keyword">-module</span><span class="params">(commander)</span></span>.</div><div class="line"><span class="pp"><span class="keyword">-export</span><span class="params">([start/<span class="number">0</span>])</span></span>.</div><div class="line"></div><div class="line"><span class="function"><span class="title">start</span><span class="params">()</span> -&gt;</span></div><div class="line">	<span class="function_name">spawn</span>(<span class="keyword">fun</span>() -&gt; <span class="function_name">loop</span>() <span class="keyword">end</span>).</div><div class="line"></div><div class="line"><span class="function"><span class="title">loop</span><span class="params">()</span> -&gt;</span></div><div class="line">	l ! start.</div></pre></td></tr></table></figure>

<p>listener不断监听，commander发一个start消息给listener，然后listener打印一个消息。</p>
<p>此例就是展示下基本通信是怎样的，无他。</p>

            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/06/28/20140628_Erlang进程通信/" data-id="atx1tgs68bcgv5pf" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Erlang/">Erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-2014-05-21_ConsistentHashing" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/05/21/2014-05-21_ConsistentHashing/" class="article-date">
  <time datetime="2014-05-21T11:01:19.000Z" itemprop="datePublished">5月 21 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/分布式系统/">分布式系统</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/05/21/2014-05-21_ConsistentHashing/">一致性哈希(Consistent Hashing)</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>在分布式系统里面，一致性哈希是一个非常重要且随处可见的概念。</p>
<h3 id="产生缘由"><strong>产生缘由</strong></h3>
<p>我们首先来考虑以下这种场景，如果你懂Chord，肯定会很容易理解。</p>
<p>假设我们有N台Server，每台Server有个id，现在有一个资源R，需要存储到Server上去，如何做？如果你懂Chord，那你肯定知道一个通用的方法是利用Hash，比如hash(R)%N后能得到一个计算后的结果，比如rid，然后就可以映射到Server上，这样一来大量资源就可以通过一个哈希计算自动分配到不同的Server上了。</p>
<p>但是在分布式系统中，Server挂掉是一件很常见也必须考虑的事情，那么如果我们的N台Server里面如果挂掉一台，我们该怎么办？为了保证整个系统正常的运行，我们当然首先要把这台Server剔除掉，这时候Server的数量就是N-1，以上映射资源的公式就变成了hash(R)%(N-1)。同理，如果我们需要加入一台Server，公式就变成了hash(R)%(N+1)。</p>
<p>这时问题就来了，每一次的剔除和加入Server，所有的资源都要重新分配，这对于大规模的系统来说是一件非常expensive的事情。为了解决这个问题，我们就要用上一致性哈希(consistent hashing)了。</p>

                
                    <p class="article-more-link">
                        <a href="/2014/05/21/2014-05-21_ConsistentHashing/#more">阅读全文</a>
                    </p>
                
            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/05/21/2014-05-21_ConsistentHashing/" data-id="c05zs1arm74cnbhg" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/一致性哈希/">一致性哈希</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-2014-03-24_里加之行" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/03/24/2014-03-24_里加之行/" class="article-date">
  <time datetime="2014-03-24T20:19:45.000Z" itemprop="datePublished">3月 24 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/行走在欧洲/">行走在欧洲</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/24/2014-03-24_里加之行/">里加之行</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>一个p结束之后，换来三天悠闲，我发现中国人就是在这种用忙碌换悠闲的循环中度过一生的。</p>
<p>拉脱维亚，爱沙利亚和立陶宛被成为波罗的海三国，得益于波罗的海上穿梭的邮轮，这三天就又一次踏上了silja line，去拉脱维亚首都里加转一转。</p>
<p>不同于刚来瑞典那会儿第一次搭乘silja line到赫尔辛基，这次真有点爱上这波罗的海上的生活，有时候就会想到我为什么生到中国，为什么就不能有老外这样悠闲的生活，当然这只是一时的感慨，人生当然不应该抱怨出身，我还是希望咱们天朝越来越强大，就像这次在船上很幸运地被喜欢汉语的法国妹子搭讪，被说到中国现在在世界上的作用越来越大的时候还是很proud。</p>

                
                    <p class="article-more-link">
                        <a href="/2014/03/24/2014-03-24_里加之行/#more">阅读全文</a>
                    </p>
                
            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/03/24/2014-03-24_里加之行/" data-id="kwgu5xhqgrz86a0g" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/拉脱维亚/">拉脱维亚</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/穷游/">穷游</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-2014-03-06_AtomsTuplesAndLists" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/03/06/2014-03-06_AtomsTuplesAndLists/" class="article-date">
  <time datetime="2014-03-05T23:00:00.000Z" itemprop="datePublished">3月 6 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/Erlang/">Erlang</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/06/2014-03-06_AtomsTuplesAndLists/">【Erlang】Atom, Tuple和List(2)</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>首先，这三个词，Atom，Tuple和List，应该翻译成⎡原子⎦，⎡元组⎦和⎡列表⎦，这里面就开始有些很怪异的东西了。元组和列表在python里面好像也有，但我python不是很熟，所以也不多说了。</p>
<hr>
<h2 id="Atom"><strong>Atom</strong></h2>
<p>认真看了第一篇文章的同学肯定会注意到一个细节，就是程序里面的变量第一个字母是大写的，如果第一个字母小写了，就变成了我们现在要讨论的一个概念：元组。</p>
<p>以下是一个厘米和英寸的转换函数：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="pp"><span class="keyword">-module</span><span class="params">(test)</span></span>.</div><div class="line"><span class="pp"><span class="keyword">-export</span><span class="params">([convert/<span class="number">2</span>])</span></span>.</div><div class="line"></div><div class="line"><span class="function"><span class="title">convert</span><span class="params">(<span class="variable">M</span>, inch)</span> -&gt;</span></div><div class="line">    <span class="variable">M</span> / <span class="number">2.54</span>;</div><div class="line"><span class="function"><span class="title">convert</span><span class="params">(<span class="variable">N</span>, centimeter)</span> -&gt;</span></div><div class="line">    <span class="variable">N</span> * <span class="number">2.54</span>.</div></pre></td></tr></table></figure>

<p>我觉得原子这个东西在Erlang里面就是用于模式匹配的，当然我这样说肯定不严谨，但是开始应该是便于理解的。比如对于上面这个module，我们可以这样调用</p>
<pre><code>test:convert(<span class="number">3</span>, inch).
test:convert(<span class="number">7</span>, centimeter).
</code></pre><p>第一个函数调用通过inch就会匹配convert的第一个子句，返回3/2.54。<br>第二个函数调用通过centimeter会匹配convert的第二个子句，返回7*2.54。</p>
<p>如果输入test:convert(3, aa).就会报错，因为无子句匹配，就运行不了了，这几个例子应该足以让同学们了解这个调用的意思了。</p>

                
                    <p class="article-more-link">
                        <a href="/2014/03/06/2014-03-06_AtomsTuplesAndLists/#more">阅读全文</a>
                    </p>
                
            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/03/06/2014-03-06_AtomsTuplesAndLists/" data-id="ui0r040ymioufork" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Erlang/">Erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-2014-03-05_初见Erlang" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/03/05/2014-03-05_初见Erlang/" class="article-date">
  <time datetime="2014-03-05T19:09:23.000Z" itemprop="datePublished">3月 5 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/Erlang/">Erlang</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/05/2014-03-05_初见Erlang/">【Erlang】初见Erlang(1)</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>最近复习分布式系统，而且在Advanced course里面，对于分布式系统有了更加深入的理解，对于Kompics的研究也让自己对于event-based和message-passing模式的程序开发更加熟悉，所以想把之前没有学好的Erlang再捡起来，不是说想学到哪种程度，对于这个语言我估计也学不到什么程度，但是毕竟是一种新的编程模式，了解了解没有坏处。</p>
<p>关于Erlang，从我进入KTH开始就给了我一个下马威，函数式语言，从来没接触过，随处的递归更是让我无从下手，但KTH作为爱立信的亲儿子，在分布式专业肯定要介绍这个，所以没办法，苦苦学了一个p。但是后来随着对于分布式系统更加深入的学习，觉得Erlang在高并发的分布式领域确实有着不可忽视的能力，所以准备记录记录。</p>
<p>关于Erlang的安装什么的我不想说了，毕竟我这个也不算教程，只能算是自己的学习笔记，我的系统是Mac，对于很多人也没有什么参考的价值，所以对于想了解的人这些步骤还是自行google吧，我只记录关于语言本身的东西，而且，更新完全根据心情，因为平时学习任务实在是太重，没办法，智商太低了。<br>
                
                    <p class="article-more-link">
                        <a href="/2014/03/05/2014-03-05_初见Erlang/#more">阅读全文</a>
                    </p>
                
            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/03/05/2014-03-05_初见Erlang/" data-id="bmxikde971smltct" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Erlang/">Erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-2014-03-04_RegularSharedMemory" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/03/04/2014-03-04_RegularSharedMemory/" class="article-date">
  <time datetime="2014-03-03T23:00:00.000Z" itemprop="datePublished">3月 4 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/分布式系统/">分布式系统</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/04/2014-03-04_RegularSharedMemory/">Regular Shared Memory</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>Shared memory在很多领域都有，如果我们不考虑分布式系统，单纯从普通软件开发来考虑，一个类的成员变量实际上就可以看成是该类所有成员函数的shared memory。在分布式系统中，由于是基于事件的（event-based），所以要用消息传递的模式来实现shard memory。</p>
<p>在我所学的教程里，用register来表示一个memory，register是一个对象，节点能够读取和写入数据到register。为了之后的讲解比较容易，这里做两个假设：  </p>
<ol>
<li>节点是连续的，也就是说一次只做一个操作，不是读取就是写入。  </li>
<li>读取和写入的值是正的，而且从零开始。 </li>
</ol>
<p>这里有个概念，⎡execution⎦，我们就把它叫做一次执行吧，在一次执行中，一次操作（operation）中invocation和response都出现了，那么称这次operation是complete，如果只有invocation，没有response，那么是fail的。</p>
<hr>
<p>考虑第一种register，英文叫做regular register，原谅我实在不知道这玩意儿翻译成中文叫什么，如果非要找个中文翻译，我觉得只能是叫⎡常规⎦register。这种register有一个writer，多个reader，记作(1, N)。</p>
<p>在regular register中，read操作会返回的值有两种情况：</p>
<ol>
<li>写操作和读操作没有并行发生，会返回最后写入的值，英文中叫<strong>last value writen</strong>。</li>
<li>写操作和读操作concurrent，也就是并行发生时，会返回正在写入的值或最后写入的值，对于这个的理解我们需要借助下图：  </li>
</ol>
<p><img src="http://ww4.sinaimg.cn/large/737bf613gw1ee38w19r07j20fp05it8v.jpg" alt="image"></p>
<p>这个图是一个regular register，但是我刚开始对于p2的第二个read操作不是很理解，后来反复看教材，终于明白是怎么回事了。<font color="red"><strong>这我们要记住，一个读操作或写操作，包含invocation和response，途中每一个w或r的开头是invocation，最后是response，也就是说在response没有到来之前，都不能算作操作完成，所以p2第二个read的时候，属于以上所说的第二种情况，会返回正在写入的值或最后写入的值，在那个时候，正在写入的值是5，最后写入的值是0。</strong></font></p>
<p><strong>以上对红色部分的理解对后面的学习至关重要！！！</strong></p>

            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/03/04/2014-03-04_RegularSharedMemory/" data-id="cssc1z9ot3se2hiz" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shared-memory/">shared memory</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
    <article id="post-2014-03-03_UniformReliableBroadcast" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="/2014/03/03/2014-03-03_UniformReliableBroadcast/" class="article-date">
  <time datetime="2014-03-03T15:58:19.000Z" itemprop="datePublished">3月 3 2014</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/分布式系统/">分布式系统</a>
  </div>

    </div>
    <div class="article-inner">
        
        
            <header class="article-header">
                
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/03/2014-03-03_UniformReliableBroadcast/">Uniform Reliable Broadcast</a>
    </h1>
  

            </header>
        
        <div class="article-entry" itemprop="articleBody">
            
                <p>这个uniform应该是一致性的意思，这个一致性应该是一个非常重要的概念，不管是在分布式系统里面还是在网络中，比如很简单的一个例子，读取数据库，如果一个用户正在修改数据库中的某数据，而另一个人正要读取这个数据，如何保持数据的一致性就是我们应该考虑的事情了。</p>
<p>在分布式系统里，具体到broadcast，我们之前的broadcast都只保证节点correct的情况，但是节点fail的情况没有考虑。考虑下面这个情况：<br><img src="http://ww2.sinaimg.cn/large/737bf613gw1ee1ura4zmpj20bu07lmxa.jpg" alt="image"></p>
<p>当p发了消息之后，p和q都接到了，但是在他们把消息转发给r和s之前，就挂了，那么r和s就接收不到消息，所以，uniform reliable broadcast就是要保证：当消息m被某节点接收到，不管这个节点是correct还是挂了，m最后还是要被每一个correct节点接收到。</p>
<p>这就是uniform agreement要干的事。</p>
<p>实现这个的基本方法是，一种叫All-Ack Uniform Reliable Broadcast，需要借助perfect failure detector；另一种叫Majority-Ack Uniform Reliable Broadcast，只需要用eventually failure detector。</p>
<p>第一种方法是：如果p1 broadcast了一个消息m，那么每一个接收到此消息的节点都要返回一个通知（ack），当p1接收到所有correct节点发回的ack时，才能算这个消息broadcast成功。<br>第二种方法和第一种方法一样，只是大多数节点接收到ack就可以了，这里“大多数”的意思是Majority=n/2+1, i.e. 6 of 11, 7 of 12….</p>
<p>All-Ack Uniform Reliable Broadcast是Fail-stop模型，Majority-Ack Uniform Reliable Broadcast是Fail-silent模型，这个怎么翻译我也不知道，这玩意儿只能意会了。</p>

            
        </div>
        <footer class="article-footer">
            <a data-url="http://yoursite.com/2014/03/03/2014-03-03_UniformReliableBroadcast/" data-id="1emo3kx9879svdv7" class="article-share-link">分享到</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/broadcast/">broadcast</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分布式/">分布式</a></li></ul>

        </footer>
    </div>
    
</article>

<!--

-->



  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</section>
                
                    <aside id="sidebar">
  	
    	

  	<div class="widget-wrap">
    	<h3 class="widget-title">分类</h3>
    	<div class="widget">
      		<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Erlang/">Erlang</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Prolog/">Prolog</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SSH/">SSH</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式系统/">分布式系统</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/影视/">影视</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/行走在欧洲/">行走在欧洲</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件工程/">软件工程</a><span class="category-list-count">2</span></li></ul>
      		
    	</div>
  	</div>

  	
    	
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/09/29/20140929_Prolog逆波兰式转换中缀表达式/">Prolog逆波兰式转换成中缀表达式</a>
          </li>
        
          <li>
            <a href="/2014/09/10/20140910_ssh的使用/">ssh的使用</a>
          </li>
        
          <li>
            <a href="/2014/06/28/20140628_启动多个进程/">【Erlang】如何一次性启动多个Erlang进程(4)</a>
          </li>
        
          <li>
            <a href="/2014/06/28/20140628_Erlang进程通信/">【Erlang】简单Erlang进程通信例子(3)</a>
          </li>
        
          <li>
            <a href="/2014/05/21/2014-05-21_ConsistentHashing/">一致性哈希(Consistent Hashing)</a>
          </li>
        
      </ul>
    </div>
  </div>

  	
    	<iframe width="100%" height="290" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=290&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=1&isWeibo=1&isFans=0&uid=1937503763&verifier=88272bc2&dpc=1"></iframe>
  	
    	
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 10.00px;">Android</a><a href="/tags/Erlang/" style="font-size: 15.00px;">Erlang</a><a href="/tags/Google/" style="font-size: 10.00px;">Google</a><a href="/tags/IT/" style="font-size: 10.00px;">IT</a><a href="/tags/KTH/" style="font-size: 10.00px;">KTH</a><a href="/tags/Mac/" style="font-size: 10.00px;">Mac</a><a href="/tags/Prolog/" style="font-size: 10.00px;">Prolog</a><a href="/tags/broadcast/" style="font-size: 13.33px;">broadcast</a><a href="/tags/ios/" style="font-size: 10.00px;">ios</a><a href="/tags/shared-memory/" style="font-size: 10.00px;">shared memory</a><a href="/tags/software-engineering/" style="font-size: 11.67px;">software engineering</a><a href="/tags/ssh/" style="font-size: 10.00px;">ssh</a><a href="/tags/一致性哈希/" style="font-size: 10.00px;">一致性哈希</a><a href="/tags/元旦/" style="font-size: 11.67px;">元旦</a><a href="/tags/光棍节/" style="font-size: 10.00px;">光棍节</a><a href="/tags/出国/" style="font-size: 10.00px;">出国</a><a href="/tags/分布式/" style="font-size: 20.00px;">分布式</a><a href="/tags/单身/" style="font-size: 10.00px;">单身</a><a href="/tags/博客/" style="font-size: 11.67px;">博客</a><a href="/tags/坚持/" style="font-size: 16.67px;">坚持</a><a href="/tags/奇葩/" style="font-size: 10.00px;">奇葩</a><a href="/tags/奋斗/" style="font-size: 18.33px;">奋斗</a><a href="/tags/小米/" style="font-size: 10.00px;">小米</a><a href="/tags/开始/" style="font-size: 10.00px;">开始</a><a href="/tags/影视/" style="font-size: 10.00px;">影视</a><a href="/tags/情义/" style="font-size: 10.00px;">情义</a><a href="/tags/意大利/" style="font-size: 10.00px;">意大利</a><a href="/tags/感悟/" style="font-size: 10.00px;">感悟</a><a href="/tags/感情/" style="font-size: 11.67px;">感情</a><a href="/tags/感谢/" style="font-size: 10.00px;">感谢</a><a href="/tags/拉脱维亚/" style="font-size: 10.00px;">拉脱维亚</a><a href="/tags/新航道/" style="font-size: 10.00px;">新航道</a><a href="/tags/毕业/" style="font-size: 10.00px;">毕业</a><a href="/tags/瑞典/" style="font-size: 10.00px;">瑞典</a><a href="/tags/生日/" style="font-size: 11.67px;">生日</a><a href="/tags/生活/" style="font-size: 11.67px;">生活</a><a href="/tags/穷游/" style="font-size: 11.67px;">穷游</a><a href="/tags/越狱/" style="font-size: 10.00px;">越狱</a><a href="/tags/软件工程/" style="font-size: 11.67px;">软件工程</a><a href="/tags/逆波兰式/" style="font-size: 10.00px;">逆波兰式</a>
    </div>
  </div>

  	
    	
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">December 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">July 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">December 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">November 2010</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  	
</aside>
                
            </div>
            <footer id="footer">
    
    <div class="outer">
        <div id="footer-info" class="inner">
            Copyright &copy; 2014 Mark<br>
            Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>.
            Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape+</a>.
            Built on <a href="http://www.apple.com" target="_blank"></a>
            <br>
            <a href="http://codermango.com/about_site">About the site.</a>
        </div>
    </div>
</footer>
        </div>
        <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about_me" class="mobile-nav-link">About</a>
  
</nav>
        

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>



<script src="/js/script.js" type="text/javascript"></script>

    </div>
</body>
</html>