title: 【Erlang】初见Erlang(1)
date: 2014-03-05 20:09:23
tags: [分布式, Erlang]
categories: Erlang

---

最近复习分布式系统，而且在Advanced course里面，对于分布式系统有了更加深入的理解，对于Kompics的研究也让自己对于event-based和message-passing模式的程序开发更加熟悉，所以想把之前没有学好的Erlang再捡起来，不是说想学到哪种程度，对于这个语言我估计也学不到什么程度，但是毕竟是一种新的编程模式，了解了解没有坏处。

关于Erlang，从我进入KTH开始就给了我一个下马威，函数式语言，从来没接触过，随处的递归更是让我无从下手，但KTH作为爱立信的亲儿子，在分布式专业肯定要介绍这个，所以没办法，苦苦学了一个p。但是后来随着对于分布式系统更加深入的学习，觉得Erlang在高并发的分布式领域确实有着不可忽视的能力，所以准备记录记录。

关于Erlang的安装什么的我不想说了，毕竟我这个也不算教程，只能算是自己的学习笔记，我的系统是Mac，对于很多人也没有什么参考的价值，所以对于想了解的人这些步骤还是自行google吧，我只记录关于语言本身的东西，而且，更新完全根据心情，因为平时学习任务实在是太重，没办法，智商太低了。
<!--more-->

首先来个例子，按照咱们代码界的惯例，先来个hello world：

```
-module(helloworld).
-export([helloworld/0]).

helloworld() -> "Hello, world, welcome to Erlang!".
```

这语法一上来肯定觉得很怪异，但是有程序经验的人肯定是知道这个程序就是打印"Hello, world, welcome to Erlang!"的。

关于这个程序，有几个要点：  

1. 每个文件都是一个module，第一行定义这个module的名字为helloworld，这个文件的名字也必须为这个module的名字。
2. 第二行的意思是，这个module包含一个叫helloworld的函数，这个函数参数的个数为0，export的意思是这个函数能够被外界调用。
3. 第三行是helloworld函数主体，定义函数只需要函数名和参数，⎡->⎦这个符号指向函数主体，这个例子中是一个字符串。
4. 注意到⎡.⎦这个符号，这个符号在Erlang里面和常规编程语言里的分号是一个意思，Erlang里面也有分号，但用处不同，后面会说。

这个程序运行后就是会打印“Hello, world, welcome to Erlang!”，这是最简单的一个Erlang程序。

在看下面这个例子，求阶乘：

```
-module(test).
-export([fac/1, mult/2]).

fac(1) ->
    1;
fac(N) ->
    N * fac(N - 1).
    
mult(X, Y) ->
    X * Y.
```

我只说这个例子中新增的一些知识。  
这个例子中有一个函数fac，但是有两个⎡子句⎦，Erlang里面的函数充斥着这样的玩意儿，这里可以看到分号，分号的意思就是这只是一个子句，函数还没有完。Erlang里面是一种匹配的调用模式，比如我们调用test:fac(5)，它会自动和fac的第二条语句匹配，关于这个以后会细说，总之非常蛋疼。mult是另一个函数，这里只为说明当有多个函数的时候，export该如何写。






